import{r as i,j as t,R as h,a as m}from"./global-UAmyxp-C.js";function p(){const[s,x]=i.useState(null),[r,f]=i.useState("filled");if(i.useEffect(()=>{const e=l=>{l.type==="AUTOFILL_COMPLETE"&&l.payload&&x(l.payload)};return chrome.runtime.onMessage.addListener(e),()=>chrome.runtime.onMessage.removeListener(e)},[]),!s)return t.jsx("div",{className:"flex items-center justify-center h-screen bg-navy p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-navy-light flex items-center justify-center",children:t.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",className:"text-teal",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})})}),t.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Review Panel"}),t.jsx("p",{className:"text-sm text-text-secondary",children:"Run autofill to review the filled fields here."})]})});const n=s.details.filter(e=>e.status==="filled"),a=s.details.filter(e=>e.status==="skipped"),c=s.details.filter(e=>e.status==="failed"||e.status==="needs_review"),d=s.details.filter(e=>e.field.requiresAI),u=[{key:"filled",label:"Filled",count:n.length,color:"text-success"},{key:"skipped",label:"Skipped",count:a.length,color:"text-warning"},{key:"failed",label:"Issues",count:c.length,color:"text-error"},{key:"ai",label:"AI",count:d.length,color:"text-teal"}],o=()=>{switch(r){case"filled":return n;case"skipped":return a;case"failed":return c;case"ai":return d}};return t.jsxs("div",{className:"h-screen bg-navy flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-border-color",children:[t.jsx("h2",{className:"text-lg font-semibold text-white",children:"Autofill Review"}),t.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:[s.filled,"/",s.total," fields filled"]}),t.jsx("div",{className:"w-full h-2 bg-navy-dark rounded-full mt-2 overflow-hidden",children:t.jsx("div",{className:"h-full bg-teal rounded-full transition-all duration-500",style:{width:`${s.filled/Math.max(s.total,1)*100}%`}})})]}),t.jsx("div",{className:"flex border-b border-border-color",children:u.map(e=>t.jsxs("button",{onClick:()=>f(e.key),className:`flex-1 py-2 px-2 text-xs font-medium transition-colors relative ${r===e.key?"text-white":"text-text-muted hover:text-text-secondary"}`,children:[e.label,e.count>0&&t.jsxs("span",{className:`ml-1 ${e.color}`,children:["(",e.count,")"]}),r===e.key&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-teal"})]},e.key))}),t.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:o().length===0?t.jsx("p",{className:"text-sm text-text-muted text-center py-8",children:"No items"}):o().map((e,l)=>t.jsxs("div",{className:"bg-navy-light rounded-lg p-3 border border-border-color",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-white truncate",children:e.field.field.label||e.field.field.identifier||e.field.profileKey}),e.field.value&&t.jsx("p",{className:"text-[11px] text-text-secondary mt-0.5 truncate",children:String(e.field.value).substring(0,60)}),e.error&&t.jsx("p",{className:"text-[10px] text-error mt-0.5",children:e.error})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded ${e.status==="filled"?"bg-success/20 text-success":e.status==="skipped"?"bg-warning/20 text-warning":e.status==="needs_review"?"bg-teal/20 text-teal":"bg-error/20 text-error"}`,children:e.status})})]}),t.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5",children:[t.jsx("div",{className:"flex-1 h-0.5 bg-navy-dark rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${e.field.confidence>.8?"bg-success":e.field.confidence>.5?"bg-warning":"bg-error"}`,style:{width:`${e.field.confidence*100}%`}})}),t.jsxs("span",{className:"text-[9px] text-text-muted",children:[Math.round(e.field.confidence*100),"%"]})]})]},l))})]})}h.createRoot(document.getElementById("root")).render(t.jsx(m.StrictMode,{children:t.jsx(p,{})}));
